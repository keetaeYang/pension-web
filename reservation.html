<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì˜ˆì•½ ë¬¸ì˜ - ì‚½êµí˜¸íœì…˜</title>
  <meta name="description" content="ì‚½êµí˜¸íœì…˜ ì˜ˆì•½ì„ ì›í•˜ì‹œë‚˜ìš”? ê°„í¸í•œ ì˜ˆì•½ í¼ì„ í†µí•´ ë¬¸ì˜í•´ì£¼ì„¸ìš”. ë¹ ë¥¸ ë‹µë³€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div id="header"></div>
  
  <main class="page-container">
    <div class="page-header">
      <h1>ì˜ˆì•½ ë¬¸ì˜</h1>
      <p class="page-subtitle">ê°„í¸í•œ ì˜ˆì•½ ì‹œìŠ¤í…œìœ¼ë¡œ í¸ë¦¬í•˜ê²Œ ë¬¸ì˜í•˜ì„¸ìš”</p>
    </div>

    <div class="reservation-container">
      <!-- Reservation Form -->
      <div class="form-section">
        <form class="modern-reservation-form" id="reservationForm" novalidate>
          <div class="form-header">
            <h2>ğŸŒ¿ ì˜ˆì•½ ì •ë³´</h2>
            <p>ì„ íƒí•˜ì‹  ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì˜ˆì•½ ë¬¸ì˜ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
          </div>

          <!-- Selected Room Display -->
          <div class="selected-room" id="selectedRoomDisplay" style="display: none;">
            <h3>ì„ íƒí•œ ê°ì‹¤</h3>
            <div class="room-info">
              <span class="room-name" id="selectedRoomName"></span>
              <span class="room-change">
                <a href="room.html">ê°ì‹¤ ë³€ê²½í•˜ê¸°</a>
              </span>
            </div>
          </div>

          <!-- Form Fields -->
          <div class="form-grid">
            <div class="form-group">
              <label for="guestName">
                <span class="label-text">ğŸ‘¤ ì„±í•¨ *</span>
                <input 
                  type="text" 
                  id="guestName" 
                  name="guestName" 
                  placeholder="ì˜ˆì•½ì ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" 
                  required
                  autocomplete="name"
                />
                <span class="error-message" id="nameError"></span>
              </label>
            </div>

            <div class="form-group">
              <label for="phone">
                <span class="label-text">ğŸ“ ì—°ë½ì²˜ *</span>
                <input 
                  type="tel" 
                  id="phone" 
                  name="phone" 
                  placeholder="010-0000-0000" 
                  required
                  autocomplete="tel"
                />
                <span class="error-message" id="phoneError"></span>
              </label>
            </div>

            <div class="form-group">
              <label for="checkIn">
                <span class="label-text">ğŸ“… ì²´í¬ì¸ ë‚ ì§œ *</span>
                <input 
                  type="date" 
                  id="checkIn" 
                  name="checkIn" 
                  required
                />
                <span class="error-message" id="checkInError"></span>
              </label>
            </div>

            <div class="form-group">
              <label for="checkOut">
                <span class="label-text">ğŸ“… ì²´í¬ì•„ì›ƒ ë‚ ì§œ *</span>
                <input 
                  type="date" 
                  id="checkOut" 
                  name="checkOut" 
                  required
                />
                <span class="error-message" id="checkOutError"></span>
              </label>
            </div>

            <div class="form-group">
              <label for="guests">
                <span class="label-text">ğŸ‘¥ ì¸ì›ìˆ˜ *</span>
                <select id="guests" name="guests" required>
                  <option value="">ì¸ì›ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                  <option value="1">1ëª…</option>
                  <option value="2">2ëª…</option>
                  <option value="3">3ëª…</option>
                  <option value="4">4ëª…</option>
                  <option value="5">5ëª…</option>
                  <option value="6">6ëª…</option>
                  <option value="more">6ëª… ì´ìƒ</option>
                </select>
                <span class="error-message" id="guestsError"></span>
              </label>
            </div>

            <div class="form-group">
              <label for="roomPreference">
                <span class="label-text">ğŸ  ì„ í˜¸ ê°ì‹¤</span>
                <select id="roomPreference" name="roomPreference">
                  <option value="">ê°ì‹¤ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                  <option value="íŒ¨ë°€ë¦¬ë£¸">íŒ¨ë°€ë¦¬ë£¸ (â‚©120,000/ë°•)</option>
                  <option value="ì»¤í”Œë£¸">ì»¤í”Œë£¸ (â‚©80,000/ë°•)</option>
                  <option value="ì˜¨ëŒë£¸">ì˜¨ëŒë£¸ (â‚©100,000/ë°•)</option>
                </select>
              </label>
            </div>
          </div>

          <div class="form-group full-width">
            <label for="specialRequests">
              <span class="label-text">ğŸ’¬ íŠ¹ë³„ ìš”ì²­ì‚¬í•­</span>
              <textarea 
                id="specialRequests" 
                name="specialRequests" 
                rows="4" 
                placeholder="íŠ¹ë³„í•œ ìš”ì²­ì‚¬í•­ì´ë‚˜ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ììœ ë¡­ê²Œ ë‚¨ê²¨ì£¼ì„¸ìš”&#10;ì˜ˆ) ìƒì¼ ê¸°ë…, íŠ¹ë³„í•œ ì–´ë©”ë‹ˆí‹° ìš”ì²­, ëŠ¦ì€ ì²´í¬ì¸ ë“±"
              ></textarea>
            </label>
          </div>

          <!-- Contact Method -->
          <div class="contact-method">
            <h3>ğŸ“± ì„ í˜¸í•˜ëŠ” ì—°ë½ ë°©ë²•</h3>
            <div class="radio-group">
              <label class="radio-option">
                <input type="radio" name="contactMethod" value="phone" checked>
                <span class="radio-custom"></span>
                ì „í™” ì—°ë½
              </label>
              <label class="radio-option">
                <input type="radio" name="contactMethod" value="kakao">
                <span class="radio-custom"></span>
                ì¹´ì¹´ì˜¤í†¡
              </label>
              <label class="radio-option">
                <input type="radio" name="contactMethod" value="email">
                <span class="radio-custom"></span>
                ì´ë©”ì¼
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-large submit-btn">
              <span class="btn-text">ì˜ˆì•½ ë¬¸ì˜í•˜ê¸°</span>
              <span class="btn-loading" style="display: none;">ì²˜ë¦¬ ì¤‘...</span>
            </button>
            <p class="form-note">
              * ì˜ˆì•½ ë¬¸ì˜ í›„ 1ì‹œê°„ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤<br>
              * ìµœì¢… ì˜ˆì•½ í™•ì •ì€ ì „í™” ìƒë‹´ í›„ ì§„í–‰ë©ë‹ˆë‹¤
            </p>
          </div>
        </form>
      </div>

      <!-- Contact Info Sidebar -->
      <aside class="contact-sidebar">
        <div class="contact-card">
          <h3>ğŸ“ ì§ì ‘ ë¬¸ì˜</h3>
          <div class="contact-item">
            <strong>ì „í™” ë¬¸ì˜</strong>
            <a href="tel:041-xxx-xxxx">041-XXX-XXXX</a>
            <span class="contact-time">ìš´ì˜ì‹œê°„: 09:00 - 21:00</span>
          </div>
          <div class="contact-item">
            <strong>ì¹´ì¹´ì˜¤í†¡</strong>
            <span>@ì‚½êµí˜¸íœì…˜</span>
            <span class="contact-time">24ì‹œê°„ ì ‘ìˆ˜ (ë‹µë³€ì€ ìš´ì˜ì‹œê°„ ë‚´)</span>
          </div>
        </div>

        <div class="info-card">
          <h3>ğŸ• ì´ìš© ì•ˆë‚´</h3>
          <div class="info-list">
            <div class="info-item">
              <span class="info-label">ì²´í¬ì¸</span>
              <span class="info-value">15:00 ~</span>
            </div>
            <div class="info-item">
              <span class="info-label">ì²´í¬ì•„ì›ƒ</span>
              <span class="info-value">~ 11:00</span>
            </div>
            <div class="info-item">
              <span class="info-label">ì·¨ì†Œ ì •ì±…</span>
              <span class="info-value">2ì¼ ì „ê¹Œì§€ ë¬´ë£Œ</span>
            </div>
            <div class="info-item">
              <span class="info-label">ë°˜ë ¤ë™ë¬¼</span>
              <span class="info-value">ì‚¬ì „ ë¬¸ì˜ í•„ìˆ˜</span>
            </div>
          </div>
        </div>

        <div class="promotion-card">
          <h3>ğŸ‰ ì´ë²¤íŠ¸</h3>
          <div class="promotion-item">
            <span class="promotion-title">ì—°ë°• í• ì¸</span>
            <span class="promotion-desc">2ë°• ì´ìƒ ì‹œ 10% í• ì¸</span>
          </div>
          <div class="promotion-item">
            <span class="promotion-title">ìƒì¼ ê¸°ë…</span>
            <span class="promotion-desc">ìƒì¼ ì¸ì¦ ì‹œ ì¼€ì´í¬ ì„œë¹„ìŠ¤</span>
          </div>
        </div>
      </aside>
    </div>
  </main>
  
  <div id="footer"></div>
  
  <script>
    // Header/Footer ë¡œë“œ
    fetch('components/header.html')
      .then(res => res.text())
      .then(data => document.getElementById('header').innerHTML = data);
    fetch('components/footer.html')
      .then(res => res.text())
      .then(data => document.getElementById('footer').innerHTML = data);

    // Form Functionality
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('reservationForm');
      const checkInInput = document.getElementById('checkIn');
      const checkOutInput = document.getElementById('checkOut');
      
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      checkInInput.min = today;
      checkOutInput.min = today;
      
      // Update checkout minimum date when checkin changes
      checkInInput.addEventListener('change', function() {
        const checkInDate = new Date(this.value);
        checkInDate.setDate(checkInDate.getDate() + 1);
        checkOutInput.min = checkInDate.toISOString().split('T')[0];
        
        if (checkOutInput.value && checkOutInput.value <= this.value) {
          checkOutInput.value = checkInDate.toISOString().split('T')[0];
        }
      });

      // Load selected room from localStorage
      const selectedRoom = localStorage.getItem('selectedRoom');
      if (selectedRoom) {
        document.getElementById('selectedRoomDisplay').style.display = 'block';
        document.getElementById('selectedRoomName').textContent = selectedRoom;
        document.getElementById('roomPreference').value = selectedRoom;
      }

      // Form validation
      function validateForm() {
        let isValid = true;
        const requiredFields = ['guestName', 'phone', 'checkIn', 'checkOut', 'guests'];
        
        requiredFields.forEach(fieldName => {
          const field = document.getElementById(fieldName);
          const errorElement = document.getElementById(fieldName + 'Error');
          
          if (!field.value.trim()) {
            errorElement.textContent = 'ì´ í•„ë“œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.';
            field.classList.add('error');
            isValid = false;
          } else {
            errorElement.textContent = '';
            field.classList.remove('error');
          }
        });

        // Phone validation
        const phone = document.getElementById('phone');
        const phonePattern = /^01[016789]-?\d{3,4}-?\d{4}$/;
        if (phone.value && !phonePattern.test(phone.value.replace(/-/g, ''))) {
          document.getElementById('phoneError').textContent = 'ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
          phone.classList.add('error');
          isValid = false;
        }

        // Date validation
        const checkIn = new Date(checkInInput.value);
        const checkOut = new Date(checkOutInput.value);
        if (checkIn >= checkOut) {
          document.getElementById('checkOutError').textContent = 'ì²´í¬ì•„ì›ƒ ë‚ ì§œëŠ” ì²´í¬ì¸ ë‚ ì§œë³´ë‹¤ ëŠ¦ì–´ì•¼ í•©ë‹ˆë‹¤.';
          checkOutInput.classList.add('error');
          isValid = false;
        }

        return isValid;
      }

      // Form submission
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (validateForm()) {
          const submitBtn = document.querySelector('.submit-btn');
          const btnText = submitBtn.querySelector('.btn-text');
          const btnLoading = submitBtn.querySelector('.btn-loading');
          
          // Show loading state
          submitBtn.disabled = true;
          btnText.style.display = 'none';
          btnLoading.style.display = 'inline';
          
          // Simulate form submission
          setTimeout(() => {
            alert('ì˜ˆì•½ ë¬¸ì˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!\n1ì‹œê°„ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
            form.reset();
            localStorage.removeItem('selectedRoom');
            document.getElementById('selectedRoomDisplay').style.display = 'none';
            
            // Reset button state
            submitBtn.disabled = false;
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
          }, 2000);
        }
      });

      // Real-time validation
      const inputs = form.querySelectorAll('input, select, textarea');
      inputs.forEach(input => {
        input.addEventListener('blur', validateForm);
        input.addEventListener('input', function() {
          if (this.classList.contains('error')) {
            this.classList.remove('error');
            const errorElement = document.getElementById(this.name + 'Error');
            if (errorElement) errorElement.textContent = '';
          }
        });
      });
    });
  </script>
</body>
</html>